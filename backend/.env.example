# ============================================================================
# BACKEND ENVIRONMENT VARIABLES
# ============================================================================
# This file contains all required environment variables for the backend API.
# Copy this file to .env and fill in your actual credentials from:
# - Supabase: https://app.supabase.com/project/[PROJECT_ID]/settings/api
# - Stripe: https://dashboard.stripe.com/apikeys
# - Brevo: https://app.brevo.com/settings/account
# - AWS: https://console.aws.amazon.com/iam/
#
# IMPORTANT: Never commit the .env file with real credentials to git!
# ============================================================================

# ============================================================================
# SUPABASE CONFIGURATION (Required)
# ============================================================================
# Obtain these values from: Supabase Dashboard > Settings > API
# Project URL: https://app.supabase.com/project/[PROJECT_ID]/settings/general
# API Keys: https://app.supabase.com/project/[PROJECT_ID]/settings/api

# Supabase project URL (e.g., https://xxx.supabase.co)
# Found in: Settings > API > Project URL
SUPABASE_URL="https://your-project.supabase.co"

# Supabase Service Role Key (KEEP SECRET!)
# Found in: Settings > API > Service Role Key
# This key has full database access and should only be used on the server
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Supabase Anonymous Key (can be public)
# Found in: Settings > API > anon public key
# Used for client-side operations with Row Level Security
SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# PostgreSQL connection string (for direct database access)
# Found in: Settings > Database > Connection string > Postgres URI
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_URL="postgresql://postgres:password@db.your-project.supabase.co:5432/postgres?sslmode=require"

# ============================================================================
# APPLICATION CONFIGURATION (Required)
# ============================================================================

# Frontend application origin URL (for CORS and redirects)
# Development: http://localhost:5173
# Production: https://imaginethisprinted.com
APP_ORIGIN="http://localhost:5173"

# Backend API origin URL
# Development: http://localhost:4000
# Production: https://api.imaginethisprinted.com
API_ORIGIN="http://localhost:4000"

# Frontend URL (for email links, redirects, etc.)
# Should match APP_ORIGIN
FRONTEND_URL="http://localhost:5173"

# Comma-separated list of allowed CORS origins
# Allows requests from these domains
# Development: http://localhost:5173,http://localhost:4000
# Production: https://imaginethisprinted.com,https://api.imaginethisprinted.com
ALLOWED_ORIGINS="http://localhost:5173,http://localhost:4000"

# Node.js environment (development or production)
# Controls logging, error handling, and feature flags
NODE_ENV="development"

# API server port
# Development: 4000
# Production: configured via Railway/hosting platform
PORT="4000"

# ============================================================================
# AUTHENTICATION & SECURITY (Required)
# ============================================================================

# JWT Secret for signing tokens (minimum 32 characters)
# Generate a secure random string:
# On Linux/Mac: openssl rand -base64 32
# On Windows: Can use any secure random string generator
# MUST be at least 32 characters long for security
JWT_SECRET="your-jwt-secret-key-minimum-32-characters-long"

# ============================================================================
# PAYMENT PROCESSING - STRIPE (Optional but recommended)
# ============================================================================
# Obtain these from: https://dashboard.stripe.com/apikeys
# TEST KEYS (starts with pk_test_ / sk_test_) for development
# LIVE KEYS (starts with pk_live_ / sk_live_) for production

# Stripe publishable key (can be public)
# Used on frontend for Stripe integration
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Stripe secret key (KEEP SECRET!)
# Only used on backend for payment processing
STRIPE_SECRET_KEY="sk_test_..."

# Stripe webhook signing secret (KEEP SECRET!)
# Found in: Stripe Dashboard > Webhooks > Signing secret
# Used to verify webhook requests from Stripe
STRIPE_WEBHOOK_SECRET="whsec_..."

# ============================================================================
# EMAIL SERVICE - BREVO (Optional but recommended)
# ============================================================================
# Obtain these from: https://app.brevo.com/settings/account
# Used for transactional emails (password reset, order confirmation, etc.)

# Brevo API key (KEEP SECRET!)
BREVO_API_KEY="xkeysib-..."

# Email address that sends emails (verified in Brevo)
BREVO_SENDER_EMAIL="noreply@yourdomain.com"

# Display name for sent emails
BREVO_SENDER_NAME="Imagine This Printed"

# ============================================================================
# AWS S3 / FILE STORAGE (Optional but recommended)
# ============================================================================
# Obtain these from: AWS IAM > Users > Security credentials
# Used for storing product images, user uploads, etc.

# AWS access key ID
AWS_ACCESS_KEY_ID="AKIA..."

# AWS secret access key (KEEP SECRET!)
AWS_SECRET_ACCESS_KEY="..."

# AWS region for S3 bucket
# Examples: us-east-1, us-east-2, eu-west-1
AWS_REGION="us-east-1"

# AWS S3 bucket name for file storage
AWS_BUCKET_NAME="your-bucket-name"

# Alias for AWS_BUCKET_NAME (used in some parts of codebase)
S3_BUCKET_NAME="your-bucket-name"

# CloudFront distribution URL (CDN for S3 assets)
# Format: https://your-distribution-id.cloudfront.net
# Allows serving images with better performance and caching
CLOUDFRONT_URL="https://your-distribution.cloudfront.net"